# =============================================================================
# CONFIGURACIÓN GENERAL
# =============================================================================
# Dominio principal
DOMAIN=automation.mibot.cl

# Directorios
DATA_DIR=/data
SSL_CERTS_DIR=/etc/ssl/mibot

# Zona horaria
TIMEZONE=America/Santiago

# =============================================================================
# VERSIONES DE SERVICIOS
# =============================================================================
TRAEFIK_VERSION=v3.3
N8N_VERSION=latest
EVOLUTION_VERSION=v2.1.1
CHATWOOT_VERSION=latest
POSTGRES_VERSION=14
REDIS_VERSION=7.2.3

#=============================================================================
# Configuración SSL
SSL_EMAIL=ricardo@onbotgo.cl
#=============================================================================

# =============================================================================
# PATHS DE SERVICIOS
# =============================================================================
N8N_PATH=/n8n
EVOLUTION_PATH=/wa
CHATWOOT_PATH=/chat

# =============================================================================
# PUERTOS
# =============================================================================
TRAEFIK_HTTP_PORT=80
TRAEFIK_HTTPS_PORT=443
N8N_PORT=5678
EVOLUTION_PORT=8080
CHATWOOT_PORT=3000
POSTGRES_PORT=5432
REDIS_PORT=6379

# =============================================================================
# POSTGRESQL
# =============================================================================
# Credenciales principales
POSTGRES_VERSION=14
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
POSTGRES_DB=automation

# Bases de datos
N8N_DB=n8n_database
EVOLUTION_DB=evolution
CHATWOOT_DB=talento_chats
POSTGRES_MULTIPLE_DATABASES=${N8N_DB},${EVOLUTION_DB},${CHATWOOT_DB}

# URLs de conexión
N8N_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${N8N_DB}
EVOLUTION_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${EVOLUTION_DB}
CHATWOOT_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${CHATWOOT_DB}

# =============================================================================
# REDIS
# =============================================================================
REDIS_PASSWORD=redis123
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# =============================================================================
# CHATWOOT CONFIGURACIÓN COMPLETA
# =============================================================================
# Configuración básica
SECRET_KEY_BASE=57aad06207daf653c0f2e1b108abbcf17abfd0a2c58f4818f2288d61c045acb55ca4a0271abe09090fb468a868ee5f462739bf107ebdeb7864589127879c4e4c
FRONTEND_URL=https://automation.mibot.cl/chat
DEFAULT_LOCALE=es
INSTALLATION_ENV=docker
RAILS_ENV=production
NODE_ENV=production

# Configuración de la aplicación
ENABLE_ACCOUNT_SIGNUP=false
ACTIVE_STORAGE_SERVICE=local
RAILS_LOG_TO_STDOUT=true
RAILS_LOG_LEVEL=info
LOG_SIZE=1024
DIRECT_UPLOADS_ENABLED=true

# Configuración de email
MAILER_SENDER_EMAIL=no-reply@automation.mibot.cl
SMTP_ADDRESS=
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_DOMAIN=automation.mibot.cl
SMTP_PORT=587
SMTP_AUTHENTICATION=plain
SMTP_ENABLE_STARTTLS_AUTO=true
SMTP_TLS=true
SMTP_SSL=false

# Configuración de la base de datos
DATABASE_URL=${CHATWOOT_DATABASE_URL}
DATABASE_RECONNECT=true

# =============================================================================
# CHATWOOT - VARIABLES ADICIONALES
# =============================================================================
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
GOOGLE_OAUTH_CALLBACK_URL=https://automation.mibot.cl/chat/omniauth/google_oauth2/callback

# LogRocket
LOG_ROCKET_PROJECT_ID=

# =============================================================================
# EVOLUTION API CONFIGURACIÓN COMPLETA
# =============================================================================
# Configuración básica
EVOLUTION_VERSION=v2.1.1
EVOLUTION_PORT=8080
EVOLUTION_API_KEY=your-api-key-here
EVOLUTION_PATH=/wa
EVOLUTION_DB=evolution
SERVER_TYPE=http
SERVER_PORT=8080
SERVER_URL=https://automation.mibot.cl/api

# Configuración de logs
LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS
LOG_COLOR=true
LOG_BAILEYS=error

# Límites y eventos
EVENT_EMITTER_MAX_LISTENERS=50
DEL_INSTANCE=false

# Configuración de base de datos
DATABASE_ENABLED=true
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true

# CORS
CORS_ORIGIN=https://automation.mibot.cl
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

# Configuración de WhatsApp
CONFIG_SESSION_PHONE_CLIENT=MiBot API
CONFIG_SESSION_PHONE_NAME=Chrome
CONFIG_SESSION_PHONE_VERSION=2.3000.1015901307
QRCODE_LIMIT=30
QRCODE_COLOR='#175197'

# Configuración de Cache
CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://:${REDIS_PASSWORD}@redis:6379/1
CACHE_REDIS_PREFIX_KEY=evolution_v2
CACHE_LOCAL_ENABLED=false

# Webhook
WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_URL=
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

# Eventos de Webhook
WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true

# Autenticación
AUTHENTICATION_API_KEY=c52d40ba4e296e233e34bbda120e9f25
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=false

# Integraciones
CHATWOOT_ENABLED=false
TYPEBOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false

# Almacenamiento S3 (desactivado por defecto)
S3_ENABLED=false
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=evolution
S3_PORT=443
S3_ENDPOINT=s3.domain.com
S3_REGION=eu-west-3
S3_USE_SSL=true
# =============================================================================
# EVOLUTION API - VARIABLES ADICIONALES
# =============================================================================
# RabbitMQ
RABBITMQ_ENABLED=false
RABBITMQ_URI=amqp://localhost
RABBITMQ_EXCHANGE_NAME=evolution
RABBITMQ_GLOBAL_ENABLED=false

# SQS
SQS_ENABLED=false
SQS_ACCESS_KEY_ID=
SQS_SECRET_ACCESS_KEY=
SQS_ACCOUNT_ID=
SQS_REGION=

# Websocket
WEBSOCKET_ENABLED=false
WEBSOCKET_GLOBAL_EVENTS=false

# Pusher
PUSHER_ENABLED=false
PUSHER_GLOBAL_ENABLED=false
PUSHER_GLOBAL_APP_ID=
PUSHER_GLOBAL_KEY=
PUSHER_GLOBAL_SECRET=
PUSHER_GLOBAL_CLUSTER=
PUSHER_GLOBAL_USE_TLS=true

# WhatsApp Business API
WA_BUSINESS_TOKEN_WEBHOOK=evolution
WA_BUSINESS_URL=https://graph.facebook.com
WA_BUSINESS_VERSION=v20.0
WA_BUSINESS_LANGUAGE=en_US

# =============================================================================
# N8N CONFIGURACIÓN COMPLETA
# =============================================================================
N8N_VERSION=1.72.1
N8N_POSTGRES_DB=${N8N_DB}
N8N_ENCRYPTION_KEY=d7c89f642b2910c1a3e8d6d1d3f8c5a9
N8N_PROTOCOL=https
N8N_PORT=5678
N8N_PATH=/n8n
N8N_HOST=${DOMAIN}
N8N_EDITOR_BASE_URL=https://${DOMAIN}/n8n/
N8N_WEBHOOK_URL=https://${DOMAIN}/n8n/
N8N_PERSONALIZATION_ENABLED=true
N8N_DIAGNOSTICS_ENABLED=false
N8N_DIAGNOSTICS_CONFIG_METRICS_ENABLED=false
N8N_METRICS=false
N8N_USER_MANAGEMENT_DISABLED=false
N8N_BASIC_AUTH_ACTIVE=false
N8N_DEFAULT_LOCALE=es